/**
 * @author 
 * @email 
 * @descrip zhong'ou wechat.
 * @version v1.0.0
 */
define(function(require,exports,module){var t=require("zepto");+function($){"use strict";$.swipeoutOpenedEl=void 0,$.allowSwipeout=!0;var t={swipeout:!0,swipeoutActionsNoFold:!0,swipeoutNoFollow:!0};$.params?$.params=$.extend($.params,t):$.params=t,$.initSwipeout=function(t){function e(t){$.allowSwipeout&&(i=!1,n=!0,a=void 0,M.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,M.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,l=(new Date).getTime())}function o(t){if(n){var e="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,o="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;if("undefined"==typeof a&&(a=!!(a||Math.abs(o-M.y)>Math.abs(e-M.x))),a)return void(n=!1);if(!i){if($(".list-block.sortable-opened").length>0)return;p=$(this),f=p.find(".swipeout-content"),d=p.find(".swipeout-actions-right"),u=p.find(".swipeout-actions-left"),h=w=m=C=E=O=null,L=u.hasClass("swipeout-actions-no-fold")||$.params.swipeoutActionsNoFold,_=d.hasClass("swipeout-actions-no-fold")||$.params.swipeoutActionsNoFold,u.length>0&&(h=u.outerWidth(),m=u.children("a,.link"),O=u.find(".swipeout-overswipe")),d.length>0&&(w=d.outerWidth(),C=d.children("a,.link"),E=d.find(".swipeout-overswipe")),g=p.hasClass("swipeout-opened"),g&&(v=p.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),p.removeClass("transitioning"),$.params.swipeoutNoFollow||(p.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),p.removeClass("swipeout-opened"))}if(i=!0,t.preventDefault(),r=e-M.x,c=r,g&&("right"===v?c-=w:c+=h),c>0&&0===u.length||c<0&&0===d.length){if(!g)return n=i=!1,f.transform(""),C&&C.length>0&&C.transform(""),void(m&&m.length>0&&m.transform(""));c=0}x=c<0?"to-left":c>0?"to-right":x?x:"to-left";var s,l,k;if(t.f7PreventPanelSwipe=!0,$.params.swipeoutNoFollow)return g?("right"===v&&r>0&&$.swipeoutClose(p),"left"===v&&r<0&&$.swipeoutClose(p)):(r<0&&d.length>0&&$.swipeoutOpen(p,"right"),r>0&&u.length>0&&$.swipeoutOpen(p,"left")),n=!1,void(i=!1);b=!1,y=!1;var F;if(d.length>0)for(k=c/w,c<-w&&(c=-w-Math.pow(-c-w,.8),E.length>0&&(y=!0)),s=0;s<C.length;s++)"undefined"==typeof C[s]._buttonOffset&&(C[s]._buttonOffset=C[s].offsetLeft),l=C[s]._buttonOffset,F=$(C[s]),E.length>0&&F.hasClass("swipeout-overswipe")&&(F.css({left:(y?-l:0)+"px"}),y?F.addClass("swipeout-overswipe-active"):F.removeClass("swipeout-overswipe-active")),F.transform("translate3d("+(c-l*(1+Math.max(k,-1)))+"px,0,0)");if(u.length>0)for(k=c/h,c>h&&(c=h+Math.pow(c-h,.8),O.length>0&&(b=!0)),s=0;s<m.length;s++)"undefined"==typeof m[s]._buttonOffset&&(m[s]._buttonOffset=h-m[s].offsetLeft-m[s].offsetWidth),l=m[s]._buttonOffset,F=$(m[s]),O.length>0&&F.hasClass("swipeout-overswipe")&&(F.css({left:(b?l:0)+"px"}),b?F.addClass("swipeout-overswipe-active"):F.removeClass("swipeout-overswipe-active")),m.length>1&&F.css("z-index",m.length-s),F.transform("translate3d("+(c+l*(1-Math.min(k,1)))+"px,0,0)");f.transform("translate3d("+c+"px,0,0)")}}function s(t){if(!n||!i)return n=!1,void(i=!1);n=!1,i=!1;var e,o,s,a,v,O,E=(new Date).getTime()-l;if(O="to-left"===x?_:L,s="to-left"===x?d:u,o="to-left"===x?w:h,e=E<300&&(r<-10&&"to-left"===x||r>10&&"to-right"===x)||E>=300&&Math.abs(c)>o/2?"open":"close",E<300&&(0===Math.abs(c)&&(e="close"),Math.abs(c)===o&&(e="open")),"open"===e){$.swipeoutOpenedEl=p,p.trigger("open"),p.addClass("swipeout-opened transitioning");var M="to-left"===x?-o:o;if(f.transform("translate3d("+M+"px,0,0)"),s.addClass("swipeout-actions-opened"),a="to-left"===x?C:m)for(v=0;v<a.length;v++)$(a[v]).transform("translate3d("+M+"px,0,0)");y&&d.find(".swipeout-overswipe")[0].click(),b&&u.find(".swipeout-overswipe")[0].click()}else p.trigger("close"),$.swipeoutOpenedEl=void 0,p.addClass("transitioning").removeClass("swipeout-opened"),f.transform(""),s.removeClass("swipeout-actions-opened");var k;if(m&&m.length>0&&m!==a)for(v=0;v<m.length;v++)k=m[v]._buttonOffset,"undefined"==typeof k&&(m[v]._buttonOffset=h-m[v].offsetLeft-m[v].offsetWidth),$(m[v]).transform("translate3d("+k+"px,0,0)");if(C&&C.length>0&&C!==a)for(v=0;v<C.length;v++)k=C[v]._buttonOffset,"undefined"==typeof k&&(C[v]._buttonOffset=C[v].offsetLeft),$(C[v]).transform("translate3d("+-k+"px,0,0)");f.transitionEnd(function(t){g&&"open"===e||closed&&"close"===e||(p.trigger("open"===e?"opened":"closed"),g&&"close"===e&&(d.length>0&&C.transform(""),u.length>0&&m.transform("")))})}var n,i,a,l,r,p,f,d,u,h,w,c,g,v,m,C,x,O,E,b,y,L,_,M={};$(document).on($.touchEvents.start,function(t){if($.swipeoutOpenedEl){var e=$(t.target);$.swipeoutOpenedEl.is(e[0])||e.parents(".swipeout").is($.swipeoutOpenedEl)||e.hasClass("modal-in")||e.hasClass("modal-overlay")||e.hasClass("actions-modal")||e.parents(".actions-modal.modal-in, .modal.modal-in").length>0||$.swipeoutClose($.swipeoutOpenedEl)}}),t?($(t).on($.touchEvents.start,e),$(t).on($.touchEvents.move,o),$(t).on($.touchEvents.end,s)):($(document).on($.touchEvents.start,".list-block li.swipeout",e),$(document).on($.touchEvents.move,".list-block li.swipeout",o),$(document).on($.touchEvents.end,".list-block li.swipeout",s))},$.swipeoutOpen=function(t,e,o){if(t=$(t),2===arguments.length&&"function"==typeof arguments[1]&&(o=e),0!==t.length&&(t.length>1&&(t=$(t[0])),t.hasClass("swipeout")&&!t.hasClass("swipeout-opened"))){e||(e=t.find(".swipeout-actions-right").length>0?"right":"left");var s=t.find(".swipeout-actions-"+e);if(0!==s.length){s.hasClass("swipeout-actions-no-fold")||$.params.swipeoutActionsNoFold;t.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),s.addClass("swipeout-actions-opened");var n,i=s.children("a"),a=s.outerWidth(),l="right"===e?-a:a;if(i.length>1){for(n=0;n<i.length;n++)"right"===e?$(i[n]).transform("translate3d("+-i[n].offsetLeft+"px,0,0)"):$(i[n]).css("z-index",i.length-n).transform("translate3d("+(a-i[n].offsetWidth-i[n].offsetLeft)+"px,0,0)");i[1].clientLeft}for(t.addClass("transitioning"),n=0;n<i.length;n++)$(i[n]).transform("translate3d("+l+"px,0,0)");t.find(".swipeout-content").transform("translate3d("+l+"px,0,0)").transitionEnd(function(){t.trigger("opened"),o&&o.call(t[0])}),$.swipeoutOpenedEl=t}}},$.swipeoutClose=function(t,e){function o(){$.allowSwipeout=!0,t.hasClass("swipeout-opened")||(t.removeClass("transitioning"),i.transform(""),t.trigger("closed"),e&&e.call(t[0]),l&&clearTimeout(l))}if(t=$(t),0!==t.length&&t.hasClass("swipeout-opened")){var s=t.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",n=t.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),i=(n.hasClass("swipeout-actions-no-fold")||$.params.swipeoutActionsNoFold,n.children("a")),a=n.outerWidth();$.allowSwipeout=!1,t.trigger("close"),t.removeClass("swipeout-opened").addClass("transitioning");var l;t.find(".swipeout-content").transform("").transitionEnd(o),l=setTimeout(o,500);for(var r=0;r<i.length;r++)"right"===s?$(i[r]).transform("translate3d("+-i[r].offsetLeft+"px,0,0)"):$(i[r]).transform("translate3d("+(a-i[r].offsetWidth-i[r].offsetLeft)+"px,0,0)"),$(i[r]).css({left:"0px"}).removeClass("swipeout-overswipe-active");$.swipeoutOpenedEl&&$.swipeoutOpenedEl[0]===t[0]&&($.swipeoutOpenedEl=void 0)}},$.swipeoutDelete=function(t,e){if(t=$(t),0!==t.length){t.length>1&&(t=$(t[0])),$.swipeoutOpenedEl=void 0,t.trigger("delete"),t.css({height:t.outerHeight()+"px"});t[0].clientLeft;t.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){if(t.trigger("deleted"),e&&e.call(t[0]),t.parents(".virtual-list").length>0){var o=t.parents(".virtual-list")[0].f7VirtualList,s=t[0].f7VirtualListIndex;o&&"undefined"!=typeof s&&o.deleteItem(s)}else t.remove()});var o="-100%";t.find(".swipeout-content").transform("translate3d("+o+",0,0)")}}}(t)});